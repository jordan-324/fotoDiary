<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Photo Diary â€¢ Photo</title>
  <link rel="stylesheet" href="/photo.css">
</head>
<body>
  <header>
    <h1>jordan medina</h1>
    <button id="backBtn" onclick="window.location.href='viewer.html'">Return</button>
  </header>

  <main>
    <div class="photo-wrapper">
      <img id="photoDisplay" src="" alt="Photo">
    </div>
  </main>

  <script>
    // Get ?f=filename from the URL
    const params = new URLSearchParams(window.location.search);
    const file = params.get('f');
    if (file) {
      document.getElementById('photoDisplay').src = `/uploads/${file}`;
      
      // Fetch and display title
      fetch(`/metadata/${encodeURIComponent(file)}`)
        .then(res => res.json())
        .then(metadata => {
          if (metadata.title) {
            const titleEl = document.createElement('div');
            titleEl.id = 'photoTitle';
            titleEl.textContent = metadata.title;
            titleEl.style.cssText = `
              position: fixed;
              bottom: 20px;
              left: 20px;
              color: #fff;
              font-size: 16px;
              font-weight: normal;
              z-index: 50;
              background: rgba(0,0,0,0.5);
              padding: 8px 12px;
              border-radius: 4px;
            `;
            document.body.appendChild(titleEl);
          }
        })
        .catch(err => console.log('Could not load title:', err));
    }
  </script>
</body>
</html>


